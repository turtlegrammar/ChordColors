{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c650","webpack:///./src/App.vue?f710","webpack:///./src/components/OptionsEditor.vue?9c63","webpack:///./src/domain/models/options.ts","webpack:///./src/components/OptionsEditor.vue","webpack:///./src/components/OptionsEditor.vue?3cdb","webpack:///./src/components/OptionsEditor.vue?ae06","webpack:///./src/domain/util/util.ts","webpack:///./src/domain/models/notes.ts","webpack:///./src/domain/services/midiBatcher.ts","webpack:///./src/domain/services/colorGiver.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","options","canvas","width","height","model","callback","$$v","expression","staticRenderFns","on","onJsonChange","defaultOptions","display","waitBeforeClearMilliseconds","tickMilliseconds","circle","tonic","degreeOffset","saturationFloor","viewMode","single","overtoneGrid","wheel","randomPixelation","concentricPixelation","wheelViewModeConfig","showOvertones","showEmergence","showEmergentOnly","lineWidth","spotlightScaleFactor","mix","rootBias","melodyBias","render","middleBias","emergentBias","emergentBiasFloor","overtone","numberOvertones","backoffCoefficient","newValue","emit","components","VContainer","VRow","VCol","VSelect","VCheckbox","VTextField","VBtn","vueJsonEditor","component","mapcat","items","f","forEach","deepMap","map","is","flipMap","arr","midiToScientific","midi","octave","kind","class","noteDropdownOptions","num","letter","toString","NoteToMidi","note","toMidi","offsetFromRoot","solfege","octaveOffset","_notes","Map","_sustainOn","newNotes","k","sustained","set","velocity","MidiBatcher","lifespan","undefined","delete","notes","Array","from","values","sort","a","b","ms","hslToRgb","hsl","g","h","hue","light","saturation","hue2rgb","q","red","Math","round","green","blue","hslToHex","min","color","max","padStart","fifths","notesToColors","config","pn","abs","hslToVector","x","cos","PI","y","sin","z","vectorToHsl","v","atan2","sqrt","mixColors","biases","colors","middleCount","totalDivider","weight","cv","colorOvertones","make","lighten","semitones","counter","addOvertone","thisWeight","normalizeWeights","weightedColors","totalWeight","wc","reduce","midiBatcher","ctx","randomPixelator","_","concentricPixelator","rgbs","emergent","wheelDrawer","hsls","innerWidth","innerHeight","makeRandomPixelator","makeConcentricPixelator","makeColorWheelDrawer","addEventListener","resize","removeEventListener","dimensions","rows","rowSize","colorsInRow","cols","colSize","thisColor","beginPath","fillStyle","rect","fill","Uint8ClampedArray","imageData","ImageData","arrayInitialized","radius","centerX","centerY","floor","dist","theta","rgb","putImageData","hslWithOvertones","spotlightSize","magnitude","arc","strokeStyle","stroke","performance","now","random","totalElements","multiplier","end","begin","midpoint","useEmergence","document","getElementById","getContext","noNotesForMs","tryClear","clearRect","renderSingleColor","getNotes","tick","renderOvertonesGrid","withOvertones","hexOvertones","drawAll","pixelateRandomly","rawColors","cs","flatColors","flat","drawingPool","pixelateConcentrically","wcs","emergentDrawingPool","renderColorWheel","go","runLoop","setTimeout","enable","ex","console","log","inputs","outputs","input","addListener","e","endSustain","beginSustain","handleNoteOn","number","handleNoteOff","OptionsEditor","VApp","VMain","VTabs","VTab","VTabItem","vuetify","use","productionTip","$mount"],"mappings":"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","file":"js/app.2d0fbc61.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"ma-0 pa-0\",attrs:{\"width\":_vm.options.canvas.width,\"height\":_vm.options.canvas.height}},[_c('v-main',[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"lg-6\"},[_c('options-editor',{model:{value:(_vm.options),callback:function ($$v) {_vm.options=$$v},expression:\"options\"}})],1)],1)],1)],1),_c('canvas',{attrs:{\"id\":\"canvas\",\"width\":_vm.options.canvas.width,\"height\":_vm.options.canvas.height}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vue-json-editor',{attrs:{\"expandedOnStart\":true},on:{\"json-change\":_vm.onJsonChange},model:{value:(_vm.options),callback:function ($$v) {_vm.options=$$v},expression:\"options\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Note, PitchClass, ScientificNote, scientificNote } from \"./notes\";\n\nexport type ViewMode = { single: boolean; overtoneGrid: boolean; wheel: boolean; randomPixelation: boolean; concentricPixelation: boolean; }\n\nexport type DisplayConfig = { tickMilliseconds: number; waitBeforeClearMilliseconds: number; }\nexport type CircleConfig = { tonic: PitchClass; degreeOffset: number; saturationFloor: number; } // between 0 and 100\nexport type MixBias = { rootBias: number; melodyBias: number; }\nexport type RenderBias = { rootBias: number; middleBias: number; melodyBias: number; emergentBias: number; emergentBiasFloor: number; }\nexport type OvertoneConfig = { numberOvertones: number; backoffCoefficient: number; }\n\nexport type CanvasOptions = { width: number; height: number; }\n\nexport type WheelViewModeConfig = {\n  showOvertones: boolean;\n  showEmergence: boolean;\n  showEmergentOnly: boolean;\n  lineWidth: number;\n  spotlightScaleFactor: number;\n}\n\nexport type Options = {\n    display: DisplayConfig;\n    circle: CircleConfig;\n    viewMode: ViewMode;\n    wheelViewModeConfig: WheelViewModeConfig;\n    canvas: CanvasOptions;\n    mix: MixBias;\n    render: RenderBias;\n    overtone: OvertoneConfig;\n}\nexport const defaultOptions: Options = {\n    display: { waitBeforeClearMilliseconds: 100, tickMilliseconds: 5},\n    circle: { tonic: \"C\", degreeOffset: 60, saturationFloor: 70 },\n    viewMode: { single: false, overtoneGrid: false, wheel: true, randomPixelation: false, concentricPixelation: true },\n    wheelViewModeConfig: { showOvertones : false, showEmergence: false, showEmergentOnly: false, lineWidth: 3, spotlightScaleFactor: 0.05},\n    canvas: { width: 1800, height: 1190 },\n    mix: { rootBias: 1.5, melodyBias: 1.5 },\n    render: { rootBias: 1, middleBias: 1, melodyBias: 1, emergentBias: 1 , emergentBiasFloor: 0.2},\n    overtone: { numberOvertones: 7, backoffCoefficient: 1.5 }\n};","\n\n\n\n\n\n\nimport { Component, Watch, Emit, Prop, Vue } from \"vue-property-decorator\";\nimport { VBtn, VContainer, VRow, VCol, VSelect,VCheckbox, VTextField } from \"vuetify/lib\";\nimport { defaultOptions, Options } from \"../domain/models/options\";\nimport { Note, Octave, PitchClass } from \"../domain/models/notes\";\nimport vueJsonEditor from \"vue-json-editor\";\n\n@Component ({\n  components: {\n      VContainer, VRow, VCol,\n      VSelect, VCheckbox, VTextField,\n      VBtn, vueJsonEditor\n  }\n})\nexport default class OptionsEditor extends Vue {\n\n    private options: Options = { ... defaultOptions  };\n\n    onJsonChange(newValue: Options) {\n        this.options = newValue;\n        this.emit();\n    }\n\n    @Emit('input')\n    emit(): Options {\n        return this.options;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptionsEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptionsEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OptionsEditor.vue?vue&type=template&id=1f28639e&\"\nimport script from \"./OptionsEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./OptionsEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// This is flatmap, but JSRepl complains about flatmap, so I have to write my own.\n export function mapcat<A, B>(items: A[], f: (a: A) => B[]): B[] {\n    const result: B[] = [];\n    items.forEach(i => {\n        f(i).forEach(j => result.push(j));\n    });\n    return result;\n}\n\nexport function deepMap<A, B>(items: A[][], f: (a: A) => B)\n{\n    return items.map(is => is.map(f));\n}\n\nexport function flipMap<A, B>(items: A[][], f: (a: A[]) => B): B[]\n{\n    const result: B[] = [];\n    for (let i = 0; i < items[0].length; i++)\n        result.push(f(items.map(arr => arr[i])));\n    return result;\n}\n\nexport function randomNumberBetweenInclusive(low: number, high: number) {\n    return Math.floor(Math.random() * (high - low + 1) + low);\n}\n\nexport function drawRandom<T>(items: T[]): T {\n    return items[randomNumberBetweenInclusive(0, items.length - 1)];\n}\n\nexport type RandomSampleRepeatOptions = \"no-repeats\" | \"non-sequential-repeats\" | \"allow-repeats\"\nexport function drawRandomSample<T>(items: T[], size: number, repeatOptions: RandomSampleRepeatOptions): T[] {\n    const result: T[] = [];\n\n    if (repeatOptions == \"allow-repeats\") {\n        for (let i = 0; i < size; i++) {\n            result.push(drawRandom(items));\n        }\n    } else if (repeatOptions == \"no-repeats\") {\n        if (size > items.length) {\n            throw new Error(\"can't randomly sample \" + size.toString() + \" items with no repeats from a list with \" + items.length.toString() + \" elements.\");\n        }\n\n        const picked = new Set<number>();\n        let i = randomNumberBetweenInclusive(0, items.length - 1);\n\n        while (result.length < size) {\n            while (picked.has(i)) {\n                i = randomNumberBetweenInclusive(0, items.length - 1);\n            }\n            result.push(items[i]);\n            picked.add(i);\n        }\n    } else if (repeatOptions == \"non-sequential-repeats\") {\n        let lastPick = randomNumberBetweenInclusive(0, items.length - 1);\n        let nextPick = lastPick;\n        while (result.length < size) {\n            while (lastPick == nextPick) {\n                nextPick = randomNumberBetweenInclusive(0, items.length - 1);\n            }\n            result.push(items[nextPick]);\n            lastPick = nextPick;\n        }\n    }\n\n    return result;\n}\n\n// https://stackoverflow.com/a/12646864\nexport function shuffleArray<T>(array: T[]) {\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n}\n\nexport function doTimes<T>(f: () => T, count: number): T[] {\n    const result: T[] = [];\n    for (let i = 0; i < count; i++) {\n        result.push(f());\n    }\n    return result;\n}\n\nexport function indexBy<K, V>(items: V[], f: (v: V) => K): Map<K, V> {\n    const result = new Map<K, V>();\n    items.forEach(x => result.set(f(x), x));\n    return result;\n}","import { Frequency, Midi,  } from \"tone\";\nimport { mapcat } from \"../util/util\";\n\nexport type PitchClass = \"A\" | \"Bb\" | \"B\" | \"C\" | \"Db\" | \"D\" | \"Eb\" | \"E\" | \"F\" | \"F#\" | \"G\" | \"Ab\";\nexport type Octave =  0 | 1 | 2 | 3 | 4 | 5 | 6  | 7 |  8 ;\n\n\nexport type MidiNote = number;\nexport type ScientificNote = {kind: \"scientific\", class: PitchClass, octave: Octave}\n\nexport type SolfegeClass = \"do\" \n    | \"ra\" | \"re\" | \"ri\" \n    | \"me\" | \"mi\"\n    | \"fa\" | \"fi\"\n    | \"se\" | \"so\" | \"si\" \n    | \"le\" | \"la\" | \"li\"\n    | \"te\" | \"ti\"\n\nexport type OctaveSolfegeRelative = {octaveOffset: number, solfege: SolfegeClass};\n\nexport type Note =  \n    {kind: \"solfege\", solfege: OctaveSolfegeRelative, tonic: Note}\n    | {kind: \"midi\", midi: number} \n    | ScientificNote;\n\nexport function solfegeNote(solfege: OctaveSolfegeRelative, tonic: Note): Note {\n    return {kind: \"solfege\", solfege: solfege, tonic: tonic};\n}\n\nexport function scientificNote(pitchClass: PitchClass, octave: Octave): Note {\n    return {kind: \"scientific\", class: pitchClass, octave: octave};\n}\n\nexport function midiToScientific(midi: number, octave: number): ScientificNote {\n    const c: PitchClass = midi % 12 == 9 ? \"A\"\n        : midi % 12 == 10 ? \"Bb\"\n        : midi % 12 == 11 ? \"B\"\n        : midi % 12 == 0 ? \"C\"\n        : midi % 12 == 1 ? \"Db\"\n        : midi % 12 == 2 ? \"D\"\n        : midi % 12 == 3 ? \"Eb\"\n        : midi % 12 == 4 ? \"E\"\n        : midi % 12 == 5 ? \"F\"\n        : midi % 12 == 6 ? \"F#\"\n        : midi % 12 == 7 ? \"G\"\n        : \"Ab\";\n\n    return { kind: \"scientific\", class: c, octave: octave as Octave }\n}\n\nexport function midiNote(midi: number): Note {\n    return {kind: \"midi\", midi: midi};\n}\n\nexport type MusicalPhrase = Note[][];\n\nexport const noteDropdownOptions = ['A', 'Bb', 'B', 'C', 'Db', 'D', 'Eb', 'E', 'F', 'F#', 'G', 'Ab'];\n\nexport const numberedNoteDropdownOptions: string[] = mapcat(\n    [1, 2, 3, 4, 5, 6, 7, 8],\n    num => noteDropdownOptions.map(letter => letter + num.toString())\n);\n\nexport function NoteToMidi(note: Note): MidiNote {\n    return note.kind == \"midi\" ? note.midi\n        : note.kind == \"scientific\" ? Frequency(note.class + note.octave.toString()).toMidi()\n        : offsetFromRoot(note.solfege.solfege) + 12 * note.solfege.octaveOffset + NoteToMidi(note.tonic);\n}\n\nexport function noteToHumanReadable(note: Note): string {\n    return Frequency(NoteToMidi(note), \"midi\").toNote();\n}\n\nexport type NoteComparison = \"greater\" | \"equal\" | \"lesser\"\nexport function compareNotes(n: Note, m: Note): NoteComparison {\n    const x = NoteToMidi(n); const y = NoteToMidi(m);\n    return x < y ? \"lesser\" : x > y ? \"greater\" : \"equal\";\n}\n\nexport function offsetFromRoot(solfege: SolfegeClass): number {\n    return solfege == \"do\" ? 0\n        : solfege == \"ra\" ? 1\n        : solfege == \"re\" ? 2\n        : solfege == \"ri\" ? 3\n        : solfege == \"me\" ? 3\n        : solfege == \"mi\" ? 4\n        : solfege == \"fa\" ? 5\n        : solfege == \"fi\" ? 6\n        : solfege == \"se\" ? 6\n        : solfege == \"so\" ? 7\n        : solfege == \"si\" ? 8\n        : solfege == \"le\" ? 8\n        : solfege == \"la\" ? 9\n        : solfege == \"li\" ? 10\n        : solfege == \"te\" ? 10\n        : solfege == \"ti\" ? 11\n        : -1; \n}\n\nexport function toSolfege(solfege: string): SolfegeClass {\n    if (offsetFromRoot(solfege as SolfegeClass) == -1) {\n        console.log(\"Not valid solfege: \" + solfege);\n        throw new Error(\"Invalid solfege: \" + solfege);\n    } else {\n        return solfege as SolfegeClass;\n    }\n}\n\n// just for ascending chords\nexport function toOctaveSolfege(solfege: SolfegeClass[]): OctaveSolfegeRelative[] {\n    let maxOffsetSoFar = -1;\n    let octave = 0;\n    const result: OctaveSolfegeRelative[] = [];\n\n    solfege.forEach(note => {\n        const baseOffset = offsetFromRoot(note) ?? 0;\n        while (baseOffset + octave * 12 <= maxOffsetSoFar) {\n            octave++;\n        }\n        const withOctave = baseOffset + 12 * octave;\n        maxOffsetSoFar = withOctave;\n        result.push({solfege: note, octaveOffset: octave});\n    });\n    return result;\n}","import { MidiNote, Note, NoteToMidi, ScientificNote } from \"../models/notes\";\n\nexport type PlayedNote = {\n    velocity: number;\n    note: ScientificNote;\n    lifespan: number;\n    sustained: boolean;\n}\n\nexport class MidiBatcher {\n    private _notes: Map<string, PlayedNote> = new Map<string, PlayedNote>();;\n    private _sustainOn = false;\n\n    constructor() { }\n\n    endSustain()\n    {\n        this._sustainOn = false;\n        const newNotes = new Map<string, PlayedNote>();\n        this._notes.forEach((n, k) => {\n            if (!n.sustained)\n                newNotes.set(k, n);\n        });\n        this._notes = newNotes;\n    }\n\n    beginSustain()\n    {\n        this._sustainOn = true;\n    }\n\n    private static key(note: ScientificNote): string\n    {\n        return note.class + note.octave;\n    }\n\n    handleNoteOn(note: ScientificNote, velocity: number): void\n    {\n        this._notes.set(MidiBatcher.key(note), {velocity: velocity, note: note, lifespan: 0, sustained: false});\n    }\n\n    handleNoteOff(note: ScientificNote): void\n    {\n        if (this._sustainOn)\n        {\n            const n = this._notes.get(MidiBatcher.key(note));\n            if (n != undefined)\n                n.sustained = true;\n        }\n        else\n        {\n            this._notes.delete(MidiBatcher.key(note));\n        }\n    }\n\n    getNotes(): PlayedNote[]\n    {\n        const notes = Array.from(this._notes.values());\n        notes.sort((a, b) => NoteToMidi(a.note) - NoteToMidi(b.note));\n        return notes;\n    }\n\n    tick(ms: number): void\n    {\n        this._notes.forEach(n => n.lifespan = n.lifespan + ms);\n    }\n}","import { PitchClass, NoteToMidi, midiNote } from \"../models/notes\";\nimport { MixBias, OvertoneConfig, CircleConfig } from \"../models/options\";\nimport { PlayedNote } from \"./midiBatcher\";\n\nexport type WeightedHSL = {\n    weight: number; // between [0, 1], in a list of  WeightedHSL, they sum to 1.\n    color: HSL;\n}\n\nexport type HSL = {\n    hue: number; // [0, 360], int\n    saturation: number; // [0, 100], float\n    light: number; // [0, 100], float\n}\n\nexport type RGB = {\n    red: number;\n    green: number;\n    blue: number;\n}\n\nexport type HexColor = string;\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   {number}  h       The hue\n * @param   {number}  s       The saturation\n * @param   {number}  l       The lightness\n * @return  {Array}           The RGB representation\n * \n * https://stackoverflow.com/a/9493060\n */\nexport function hslToRgb(hsl: HSL): RGB {\n    const h = hsl.hue / 360.0;\n    const l = hsl.light / 100.0;\n    const s = hsl.saturation / 100.0;\n\n    let r, g, b;\n\n    if(s == 0){\n        r = g = b = l; // achromatic\n    }else{\n        const hue2rgb = function hue2rgb(p: number, q: number, t: number){\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return {red: Math.round(r * 255), green: Math.round(g * 255), blue: Math.round(b * 255)};\n}\n\n// https://stackoverflow.com/a/44134328\nexport function hslToHex(hsl: HSL): HexColor {\n  const h = hsl.hue; const l = hsl.light / 100; const s = hsl.saturation;\n  const a = s * Math.min(l, 1 - l) / 100;\n  const f = (n: number) => {\n    const k = (n + h / 30) % 12;\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return Math.round(255 * color).toString(16).padStart(2, '0');   // convert to Hex and prefix \"0\" if needed\n  };\n  return `#${f(0)}${f(8)}${f(4)}`;\n}\n\nconst fifths: Map<PitchClass, number> = new Map<PitchClass, number>(\n    [\n        [\"C\", 0],\n        [\"G\", 30],  \n        [\"D\", 60],  \n        [\"A\", 90],  \n        [\"E\", 120],  \n        [\"B\", 150],  \n        [\"F#\", 180],  \n        [\"Db\", 210],  \n        [\"Ab\", 240],  \n        [\"Eb\", 270],  \n        [\"Bb\", 300],  \n        [\"F\", 330]\n    ]\n);\n\n// lifespanFactor:  lifespan is ms, this is multiplied by ms to get percentage discount.\n// for -5% every second, do 0.05/1000\nexport function notesToColors(config: CircleConfig, notes: PlayedNote[]): HSL[] {\n    return notes.map(pn =>\n        {\n            // between 0, 100 -- a percentage\n            return {\n                hue: Math.abs((360 - fifths.get(pn.note.class)! + config.degreeOffset + fifths.get(config.tonic)!)) % 360,\n                saturation: config.saturationFloor + (100 - config.saturationFloor) * pn.velocity, // todo: configurable saturation floor,\n                light: (NoteToMidi(pn.note) - 21) * (100 / 88.0)\n            };\n        });\n}\n\ntype Vector = {x: number; y: number; z: number}\nfunction hslToVector(hsl: HSL): Vector {\n    // https://stackoverflow.com/a/53328189\n    return {\n        x: Math.cos(hsl.hue / 180 * Math.PI) * hsl.saturation,\n        y: Math.sin(hsl.hue / 180 * Math.PI) * hsl.saturation,\n        z: hsl.light\n    };\n}\n\nfunction vectorToHsl(v: Vector): HSL {\n    const h = Math.atan2(v.y, v.x) * 180 / Math.PI;\n    return {\n        hue: h < 0 ? 360 + h : h,\n        saturation : Math.sqrt(v.x * v.x + v.y * v.y),\n        light: v.z\n    };\n}\n\nexport function mixColors(biases: MixBias, colors: HSL[]): HSL {\n    if (colors.length == 1)\n    {\n        return colors[0];\n    }\n    const middleCount = colors.length - 2;\n    const totalDivider = biases.rootBias + biases.melodyBias + middleCount;\n\n    // todo: also weight by velocity?\n    const v = { x: 0, y: 0, z: 0};\n    for (let i = 0; i < colors.length; i++)\n    {\n        const weight = i == 0 ? biases.rootBias\n            : i == colors.length - 1 ? biases.melodyBias\n            : 1;\n\n        const cv = hslToVector(colors[i]);\n        v.x += cv.x * weight;\n        v.y += cv.y * weight;\n        v.z += cv.z * weight;\n    }\n\n    v.x /= totalDivider;\n    v.y /= totalDivider;\n    v.z /= totalDivider;\n\n    return vectorToHsl(v);\n}\n\nexport function colorOvertones(color: HSL, config: OvertoneConfig): WeightedHSL[] {\n    const make = (h: number, l: number) => ({hue: h, light: l, saturation: color.saturation});\n    const lighten = (semitones: number) => Math.min(100, (100/88) * semitones + color.light);\n\n    let counter = 1;\n\n    const result: WeightedHSL[] = [{ color: color, weight: 1 } ];\n\n    const addOvertone = (c: HSL) => {\n        counter++;\n        const thisWeight = 1 / (config.backoffCoefficient * counter);\n        result.push({color: c, weight: thisWeight});\n    }\n\n    // addition and subtraction are opposites because we need to move counterclockwise\n    // around HSL. So, sharp: subtract; flat: add\n    if (config.numberOvertones >= 1)\n        addOvertone(make(color.hue, lighten(12)));\n    if (config.numberOvertones >= 2)\n        addOvertone(make(color.hue - 31, lighten(19))); // octave and a fifth that's 2cents sharp\n    if (config.numberOvertones >= 3) \n        addOvertone(make(color.hue, lighten(24)));\n    if (config.numberOvertones >= 4)\n        addOvertone(make((color.hue - 120 + 15 * 14/50) %  360, lighten(28))); // major third that's 14 cents flat\n    if (config.numberOvertones >= 5)\n        addOvertone(make(color.hue - 31, lighten(31)));\n    if (config.numberOvertones >= 6)\n        addOvertone(make((color.hue + 60 + 15 * 31/50) % 360, lighten(34))); // minor seventh 31 cents flat\n\n    normalizeWeights(result);\n\n    return result;\n}\n\nexport function normalizeWeights(weightedColors: WeightedHSL[]) {\n    const totalWeight = weightedColors.map(wc => wc.weight).reduce((x, y) => x + y, 0);\n    weightedColors.forEach(wc => wc.weight /= totalWeight);\n}","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport OptionsEditor from \"./components/OptionsEditor.vue\";\nimport { VBtn, VContainer, VRow, VCol, VTabs, VApp, VMain, VTabItem, VTab } from \"vuetify/lib\";\n\nimport { Options, defaultOptions, CanvasOptions, OvertoneConfig, WheelViewModeConfig } from './domain/models/options';\nimport { Note, NoteToMidi, scientificNote, Octave, PitchClass, midiToScientific } from \"./domain/models/notes\";\nimport { MidiBatcher } from \"./domain/services/midiBatcher\";\nimport { HSL, RGB, notesToColors, hslToHex, mixColors, HexColor, colorOvertones, hslToRgb, normalizeWeights } from \"./domain/services/colorGiver\";\nimport { indexBy, deepMap, flipMap, drawRandom } from \"./domain/util/util\";\nimport webmidi, { WebMidi } from \"webmidi\";\n\ntype ColorWheelDrawer = (hslsWithOvertones: HSL[][], config: WheelViewModeConfig) => void;\n\n@Component ({\n  components: {\n    OptionsEditor,\n    VApp, VMain,\n    VTabs, VTab, VTabItem,\n    VContainer, VRow, VCol,\n    VBtn\n  }\n})\n\nexport default class App extends Vue {\n\n  private options: Options = defaultOptions;\n  private midiBatcher: MidiBatcher = new MidiBatcher();\n  // private randomPixelator: (rgbs: RGB[]) => void = (x) => {}\n  private ctx: (CanvasRenderingContext2D | undefined) = undefined;\n\n  private randomPixelator = (_: RGB[]) => {};\n\n  private concentricPixelator = (rgbs: RGB[][], emergent: RGB[], emergentBias: number, emergentBiasFloor: number) => {};\n\n  private wheelDrawer: ColorWheelDrawer = (hsls: HSL[][], c: WheelViewModeConfig) => {} \n\n  resize() {\n      this.options.canvas.width = window.innerWidth;\n      this.options.canvas.height = window.innerHeight;\n      this.randomPixelator = this.makeRandomPixelator(this.ctx!, this.options.canvas);\n      this.concentricPixelator = this.makeConcentricPixelator(this.ctx!, this.options.canvas);\n      this.wheelDrawer = this.makeColorWheelDrawer(this.ctx!, this.options.canvas);\n  }\n\n  created() {\n    window.addEventListener(\"resize\", this.resize);\n  }\n  \n  destroyed() {\n    window.removeEventListener(\"resize\", this.resize);\n  }\n\n  drawAll(ctx: CanvasRenderingContext2D, colors: HexColor[][], dimensions: CanvasOptions)\n  {\n    const height = dimensions.height;\n    const width = dimensions.width;\n\n    const rows = colors.length;\n    const rowSize = height / rows;\n    for (let r = 0; r < rows; r++)\n    {\n      const colorsInRow = colors[r];\n      const cols = colorsInRow.length;\n      const colSize = width / cols;\n\n      for (let c = 0; c < cols; c++)\n      {\n        const thisColor = colorsInRow[c];\n        ctx.beginPath();\n        ctx.fillStyle = thisColor;\n        ctx.rect(c * colSize, r * rowSize, colSize, rowSize);\n        ctx.fill();\n      }\n    }\n  }\n\n  makeColorWheelDrawer(ctx: CanvasRenderingContext2D, dimensions: CanvasOptions): ColorWheelDrawer\n  {\n    const width = dimensions.width;\n    const height = dimensions.height;\n\n    const arr = new Uint8ClampedArray(width * height * 4);\n    const imageData = new ImageData(arr, width);\n\n    let arrayInitialized = false;\n\n    return (hsls: HSL[][], config: WheelViewModeConfig) =>\n    {\n      const radius = Math.min(width, height) / 2;\n      const centerX = width / 2;\n      const centerY = height / 2;\n\n      if (!arrayInitialized)\n      {\n        const l = width * height;\n        for (let i = 0; i < l; i+=1)\n        {\n          const y = Math.floor(i / width);\n          const x = Math.floor(i - y * width);\n          const dist = Math.sqrt((x - centerX) * (x - centerX) + (y - centerY) * (y - centerY));\n          if (dist < radius)\n          {\n            const theta = (Math.atan2(y - centerY, x - centerX) * (180/ Math.PI) + 360 + 90) % 360;\n            const hsl = { hue: theta, saturation: 100, light: 100 * dist / radius }\n            const rgb = hslToRgb(hsl);\n            arr[i*4] = rgb.red;\n            arr[i*4 + 1] = rgb.green;\n            arr[i*4 + 2] = rgb.blue;\n            arr[i*4 + 3] = 255;\n          }\n        }\n        arrayInitialized = true;\n      }\n\n      ctx.putImageData(imageData, 0, 0);\n\n      for (let j = 0; j < hsls.length; j++)\n      {\n        if (config.showEmergentOnly && j != hsls.length - 1)\n          continue;\n\n        if (!config.showEmergence && j == hsls.length - 1)\n          continue;\n\n        const hslWithOvertones = hsls[j];\n\n        for (let i = 0; i < hslWithOvertones.length; i++)\n        {\n          if (!config.showOvertones && i > 0)\n            continue;\n\n          const hsl = hslWithOvertones[i];\n\n          const spotlightSize = Math.floor(radius * config.spotlightScaleFactor  / (i + 1));\n          const theta = (hsl.hue - 90) * Math.PI / 180;\n          const magnitude = hsl.light * radius / 100;\n          const x = magnitude * Math.cos(theta);\n          const y = magnitude * Math.sin(theta);\n          ctx.lineWidth = config.lineWidth;\n          ctx.beginPath();\n          ctx.arc(x + centerX, y + centerY, spotlightSize, 0, Math.PI * 2);\n          ctx.strokeStyle = hslToHex({hue: (hsl.hue + 180) % 360, saturation: 100, light: 100 - hsl.light});\n          ctx.fillStyle = hslToHex(hsl);\n          ctx.stroke();\n          ctx.fill();\n        }\n      }\n    }\n  }\n\n  // todo: regenerate instance on size change\n  makeRandomPixelator(ctx: CanvasRenderingContext2D, dimensions: CanvasOptions): ((rgbs: RGB[]) => void)\n  {\n    const width = dimensions.width;\n    const height = dimensions.height;\n\n    const arr = new Uint8ClampedArray(width * height * 4);\n    const imageData = new ImageData(arr, width);\n    return (rgbs: RGB[]) =>\n    {\n      const loopTimeStart = performance.now();\n      for (let i = 0; i < arr.length; i+=4)\n      {\n        const c = rgbs[Math.floor(Math.random()*rgbs.length)];\n        arr[i] = c.red;\n        arr[i + 1] = c.green;\n        arr[i + 2] = c.blue;\n        arr[i + 3] = 255;\n      }\n      const loopTimeEnd = performance.now();\n      // console.log(\"loop time: \" + (loopTimeEnd - loopTimeStart));\n\n      ctx.putImageData(imageData, 0, 0);\n    }\n  }\n\n// todo: resize\n  makeConcentricPixelator(ctx: CanvasRenderingContext2D, dimensions: CanvasOptions)\n  {\n    const width = dimensions.width;\n    const height = dimensions.height;\n\n    const totalElements = width * height * 4;\n    const arr = new Uint8ClampedArray(width * height * 4);\n    const imageData = new ImageData(arr, width);\n    return (rgbs: RGB[][], emergent: RGB[], emergentBias: number, emergentBiasFloor: number) =>\n    {\n      if (rgbs.length == 1)\n      {\n        this.randomPixelator(rgbs[0]);\n        return;\n      }\n      const loopTimeStart = performance.now();\n      let multiplier = totalElements / rgbs.length - 1; multiplier -= (multiplier % 4);\n      const end = multiplier;\n      const begin = 0;\n\n      const midpoint = (end + begin) / 2;\n      const d = (end - begin) / 2;\n\n      for (let i = 0; i < end; i+=4)\n      {\n        const useEmergence = Math.random() - emergentBiasFloor < (Math.abs(i - midpoint) / d) * emergentBias;\n        for (let j = 0; j < rgbs.length; j++)\n        {\n          const c = useEmergence ? \n            emergent[Math.floor(Math.random()*emergent.length)]\n            : rgbs[rgbs.length - j - 1][Math.floor(Math.random()*rgbs[j].length)];\n            arr[j*multiplier + i] = c.red;\n            arr[j*multiplier + i + 1] = c.green;\n            arr[j*multiplier + i + 2] = c.blue;\n            arr[j*multiplier + i + 3] = 255;\n        }\n      }\n\n      const loopTimeEnd = performance.now();\n      // console.log(\"loop time: \" + (loopTimeEnd - loopTimeStart));\n\n      ctx.putImageData(imageData, 0, 0);\n    }\n  }\n\n  mounted()\n  {\n    const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n    const ctx = canvas.getContext(\"2d\")!;\n    this.ctx = ctx;\n\n    this.resize();\n\n      let noNotesForMs = 0;\n      const tryClear = () => {\n        if (noNotesForMs > this.options.display.waitBeforeClearMilliseconds) {\n          ctx.clearRect(0, 0, this.options.canvas.width, this.options.canvas.height);\n          noNotesForMs = 0;\n        } else {\n          noNotesForMs += this.options.display.tickMilliseconds;\n        }\n      }\n\n      const renderSingleColor = () => {\n          const colors = notesToColors(this.options.circle, this.midiBatcher.getNotes());\n          if (colors.length == 0)\n            tryClear();\n          \n          else\n          {\n            const color = mixColors(this.options.mix, colors);\n            ctx.clearRect(0, 0, this.options.canvas.width, this.options.canvas.height);\n            ctx.rect(0, 0, this.options.canvas.width, this.options.canvas.height);\n            ctx.fillStyle = hslToHex(color);\n            ctx.fill();\n          }\n          this.midiBatcher.tick(50);\n      };\n\n      const renderOvertonesGrid = () => {\n        const colors = notesToColors(this.options.circle, this.midiBatcher.getNotes());\n        if (colors.length == 0)\n          tryClear();\n\n        else\n        {\n          const withOvertones = colors.map(c => colorOvertones(c, this.options.overtone).map(wc => wc.color));\n          withOvertones.push(flipMap(withOvertones, c => mixColors(this.options.mix, c)));\n          const hexOvertones = deepMap(withOvertones, hslToHex);\n          this.drawAll(ctx, hexOvertones, this.options.canvas);\n        }\n      }\n\n      const pixelateRandomly = () => {\n        const rawColors = notesToColors(this.options.circle, this.midiBatcher.getNotes());\n        if (rawColors.length == 0)\n          tryClear();\n        \n        else\n        {\n          // first, weight with overtones, then weight with root/middle/etc. etc.?\n          const cs = [... rawColors];\n          if (cs.length > 1)\n            cs.push(mixColors(this.options.mix, cs));\n          const withOvertones = cs.map(c => colorOvertones(c, this.options.overtone));\n          for (let i = 0; i < withOvertones.length; i++)\n          {\n            if (i == 0)\n              withOvertones[i].forEach(wc => wc.weight *= this.options.render.rootBias);\n            else if (i == withOvertones.length - 1)\n              withOvertones[i].forEach(wc => wc.weight *= this.options.render.emergentBias);\n            else if (i == withOvertones.length - 2)\n              withOvertones[i].forEach(wc => wc.weight *= this.options.render.melodyBias);\n            else \n              withOvertones[i].forEach(wc => wc.weight *= this.options.render.middleBias);\n          }\n          const flatColors = withOvertones.flat();\n          normalizeWeights(flatColors);\n          const drawingPool: RGB[] = [];\n          flatColors.forEach(wc => {\n            const rgb = hslToRgb(wc.color);\n            for (let i = 0; i < Math.floor(10000 * wc.weight); i++)\n              drawingPool.push(rgb);\n          })\n\n          this.randomPixelator(drawingPool);\n        }\n      }\n\n      const pixelateConcentrically = () => {\n        const rawColors = notesToColors(this.options.circle, this.midiBatcher.getNotes());\n        if (rawColors.length == 0)\n          tryClear();\n        \n        else\n        {\n          // first, weight with overtones, then weight with root/middle/etc. etc.?\n          const cs = [... rawColors];\n          const withOvertones = cs.map(c => colorOvertones(c, this.options.overtone));\n          const emergent = cs.length > 0 ? colorOvertones(mixColors(this.options.mix, cs), this.options.overtone) : [];\n\n          const drawingPool: RGB[][] = [];\n          withOvertones.forEach(wcs => {\n            const result: RGB[] = [];\n            wcs.forEach(wc => {\n              const rgb = hslToRgb(wc.color);\n              // todo: could write reusable function that looked at smallest weight and determined min number needed to have that represented once?\n              for (let i = 0; i < Math.floor(100 * wc.weight); i++)\n                result.push(rgb);\n            });\n            drawingPool.push(result);\n            }\n          );\n\n          const emergentDrawingPool: RGB[] = [];\n          emergent.forEach(wc => {\n            const rgb = hslToRgb(wc.color);\n            for (let i = 0; i < Math.floor(100 * wc.weight); i++)\n              emergentDrawingPool.push(rgb);\n          });\n\n          this.concentricPixelator(drawingPool, emergentDrawingPool, this.options.render.emergentBias, this.options.render.emergentBiasFloor);\n        }\n      }\n\n      const renderColorWheel = () =>\n      {\n        const rawColors = notesToColors(this.options.circle, this.midiBatcher.getNotes());\n        const cs = [... rawColors];\n        const withOvertones = cs.map(c => colorOvertones(c, this.options.overtone));\n        const emergent = colorOvertones(mixColors(this.options.mix, cs), this.options.overtone);\n        withOvertones.push(emergent);\n\n        this.wheelDrawer(deepMap(withOvertones, wc => wc.color), this.options.wheelViewModeConfig);\n      }\n\n      const go = () => {\n        this.options.viewMode.single ? renderSingleColor()\n        : this.options.viewMode.overtoneGrid ? renderOvertonesGrid()\n        : this.options.viewMode.wheel ? renderColorWheel()\n        : this.options.viewMode.randomPixelation ? pixelateRandomly()\n        : pixelateConcentrically();\n      }\n\n      const runLoop = () => {\n        go();\n        setTimeout(runLoop, this.options.display.tickMilliseconds);\n      }\n\n      setTimeout(runLoop, this.options.display.tickMilliseconds);\n\n      webmidi.enable(ex => {\n        if (ex != undefined) {\n          console.log(\"Error trying to setup midi listener: \" + ex.name);\n        } else {\n          console.log(\"Successfully set up midi listner.\")\n        }\n    \n        console.log(webmidi.inputs);\n        console.log(webmidi.outputs);\n    \n        if (webmidi.inputs.length == 0) {\n          console.log(\"No midi input device detected.\");\n        }\n    \n        const input = webmidi.inputs[0];\n        input.addListener(\"midimessage\", \"all\", e =>  { \n          if (e.data[0] >> 4 == 11 && e.data[1] == 64)\n          {\n            if (e.data[2] <= 63)\n              this.midiBatcher.endSustain();\n            else\n              this.midiBatcher.beginSustain();\n          }\n        });\n        input.addListener(\"noteon\", \"all\", e => {\n          this.midiBatcher.handleNoteOn(\n            midiToScientific(e.note.number, e.note.octave),\n            e.velocity\n          );\n          // render();\n        });\n    \n        input.addListener(\"noteoff\", \"all\", e => {\n          this.midiBatcher.handleNoteOff(\n            midiToScientific(e.note.number, e.note.octave)\n          );\n        });\n      }, true);\n  }\n}\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=240e868d&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport Vuetify from \"vuetify/lib\";\n\nimport 'vuetify/dist/vuetify.min.css';\n\nconst vuetify = new Vuetify({});\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");"],"sourceRoot":""}